#!/bin/bash

pattern="main|dev|$1"
branches=$(git branch | grep -Ev "^\*|($pattern)")

if [ -z "$branches" ]; then
  echo "No branches to delete"
  exit 0
fi

echo "Branches to be deleted:"
echo "$branches"
read -p "Delete these branches? [Y/N] " confirm

if [[ "$confirm" =~ ^[Yy]$ ]]; then
  echo "$branches" | xargs git branch -D
fi
